
<script type="text/javascript"><!--

$(document).ready(function() {

  const qid      = $('#qid');
  const question = $('#question');
  const answer   = $('#answer');
  const submit   = $(':submit');

  question.hide();

  qid.keypress(function(e) {
    // Only accept hex input
    var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
    if (str.match(/[a-fA-F0-9]/)) {
      return true;
    } else {
      e.preventDefault();
      //beep
      return false;
    }
  });

  qid.keyup(function(){
    if (qid.val() !== '') {
      $.getJSON('/qid', { qid:qid.val() }, function(q) {
        // if (q.exists) {
        //   question.val(q.text).show();
        // }
      });
    }
  });

});

//--></script>

<h1>answer a question</h1>

<audio>
  <source id="beep" src="audio/beep.mp3"></source>
</audio>

<form method="post" action="answered">
  <row>
    <label>question
      <input type="text" id="qid" name="qid" placeholder="?" autofocus>
    </label>
  </row>
  <textarea id="question" readonly></textarea>
  <textarea id="answer" name="answer"></textarea>
  <row>
    <button type="submit" id="answer-it">answer it</button>
  </row>
</form>
